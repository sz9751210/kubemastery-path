---
id: 201
title: CKA Mock Exam 1
category: CKA
duration: 120 mins
---

# CKA Mock Exam 1

Time: 2 Hours. Pass: 66%.

# Task 1: Backup Etcd
Save a snapshot of etcd to `/opt/etcd-backup.db`.

```bash
ETCDCTL_API=3 etcdctl --endpoints=https://127.0.0.1:2379 \
  --cacert=/etc/kubernetes/pki/etcd/ca.crt \
  --cert=/etc/kubernetes/pki/etcd/server.crt \
  --key=/etc/kubernetes/pki/etcd/server.key \
  snapshot save /opt/etcd-backup.db
```

```setup
# Ensure directory exists
sudo mkdir -p /opt
```

```verify
ls /opt/etcd-backup.db > /dev/null
```

# Task 2: Upgrade Master Node
Upgrade the controlplane node to version `1.27.0`.

```bash
apt-get update && apt-get install -y kubeadm=1.27.0-00
kubeadm upgrade apply v1.27.0
```

```setup
echo "Ready"
```

```verify
kubeadm version | grep 1.27.0
```

# Task 3: Create a Pod with Sidecar
Create a pod named `legacy-app` with image `busybox` that logs to `/var/log/legacy.log`. Add a sidecar container that prints this log file to stdout.

```setup
kubectl delete pod legacy-app --force --grace-period=0 2>/dev/null || true
```

```verify
kubectl get pod legacy-app -o jsonpath='{.spec.containers[*].name}' | grep sidecar
```
