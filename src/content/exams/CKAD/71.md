---
id: 71
title: Advanced Deployment Strategies
category: CKAD
duration: 50 mins
---

# Advanced Deployment Strategies

## Blue/Green Deployment
- Two identical environments.
- **Switch**: Update the Service selector to point to the new version.
- **Pros**: Instant rollback. **Cons**: Double resources.

## Canary Deployment
- Roll out to a small subset of users.
- **Implementation**: Two Deployments (Stable & Canary) with common labels targeted by one Service.
- **Traffic Splitting**: Use Ingress or Service Mesh for % based splitting.

# Task 1: Perform Rolling Update
Create a deployment `nginx-deploy` with image `nginx:1.14.2` and then update it to `nginx:1.16.1`.

```bash
kubectl create deployment nginx-deploy --image=nginx:1.14.2
kubectl set image deployment/nginx-deploy nginx=nginx:1.16.1
```

```setup
kubectl delete deployment nginx-deploy 2>/dev/null || true
```

```verify
kubectl get deployment nginx-deploy -o jsonpath='{.spec.template.spec.containers[0].image}' | grep "nginx:1.16.1"
```
